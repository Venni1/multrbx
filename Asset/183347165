<roblox xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.mulrbx.com/roblox.xsd" version="4">
	<External>null</External>
	<External>nil</External>
	<Item class="Tool" referent="RBX61B73544F6E34BF19600AC191A07A125">
		<Properties>
			<bool name="CanBeDropped">true</bool>
			<bool name="Enabled">true</bool>
			<CoordinateFrame name="Grip">
				<X>0</X>
				<Y>-0.850000024</Y>
				<Z>0.75</Z>
				<R00>1</R00>
				<R01>0</R01>
				<R02>0</R02>
				<R10>0</R10>
				<R11>1</R11>
				<R12>0</R12>
				<R20>0</R20>
				<R21>0</R21>
				<R22>1</R22>
			</CoordinateFrame>
			<bool name="ManualActivationOnly">false</bool>
			<string name="Name">HalloweenFireworks</string>
			<bool name="RequiresHandle">true</bool>
			<BinaryString name="Tags"></BinaryString>
			<Content name="TextureId"><url>http://www.mulrbx.com/asset?id=179511470</url></Content>
			<string name="ToolTip"></string>
		</Properties>
		<Item class="Part" referent="RBX25CF5304FFFD4F3587D31CA9E125B7A1">
			<Properties>
				<bool name="Anchored">false</bool>
				<float name="BackParamA">-0.5</float>
				<float name="BackParamB">0.5</float>
				<token name="BackSurface">0</token>
				<token name="BackSurfaceInput">0</token>
				<float name="BottomParamA">-0.5</float>
				<float name="BottomParamB">0.5</float>
				<token name="BottomSurface">0</token>
				<token name="BottomSurfaceInput">0</token>
				<CoordinateFrame name="CFrame">
					<X>1.50000095</X>
					<Y>2.49999905</Y>
					<Z>-0.849997997</Z>
					<R00>1</R00>
					<R01>0</R01>
					<R02>0</R02>
					<R10>0</R10>
					<R11>1</R11>
					<R12>0</R12>
					<R20>0</R20>
					<R21>0</R21>
					<R22>1</R22>
				</CoordinateFrame>
				<bool name="CanCollide">true</bool>
				<int name="CollisionGroupId">0</int>
				<Color3uint8 name="Color3uint8">4288914085</Color3uint8>
				<PhysicalProperties name="CustomPhysicalProperties">
					<CustomPhysics>false</CustomPhysics>
				</PhysicalProperties>
				<float name="Elasticity">0.5</float>
				<float name="Friction">0.300000012</float>
				<float name="FrontParamA">-0.5</float>
				<float name="FrontParamB">0.5</float>
				<token name="FrontSurface">0</token>
				<token name="FrontSurfaceInput">0</token>
				<float name="LeftParamA">-0.5</float>
				<float name="LeftParamB">0.5</float>
				<token name="LeftSurface">0</token>
				<token name="LeftSurfaceInput">0</token>
				<bool name="Locked">true</bool>
				<token name="Material">256</token>
				<string name="Name">Handle</string>
				<float name="Reflectance">0</float>
				<float name="RightParamA">-0.5</float>
				<float name="RightParamB">0.5</float>
				<token name="RightSurface">0</token>
				<token name="RightSurfaceInput">0</token>
				<Vector3 name="RotVelocity">
					<X>0</X>
					<Y>0</Y>
					<Z>0</Z>
				</Vector3>
				<BinaryString name="Tags"></BinaryString>
				<float name="TopParamA">-0.5</float>
				<float name="TopParamB">0.5</float>
				<token name="TopSurface">0</token>
				<token name="TopSurfaceInput">0</token>
				<float name="Transparency">0</float>
				<Vector3 name="Velocity">
					<X>0</X>
					<Y>0</Y>
					<Z>0</Z>
				</Vector3>
				<token name="formFactorRaw">3</token>
				<token name="shape">1</token>
				<Vector3 name="size">
					<X>2</X>
					<Y>2.75</Y>
					<Z>2</Z>
				</Vector3>
			</Properties>
			<Item class="SpecialMesh" referent="RBXDF166E26ECBB403F81254CA086EDD943">
				<Properties>
					<token name="LODX">2</token>
					<token name="LODY">2</token>
					<Content name="MeshId"><url>http://www.mulrbx.com/asset?id=179511421</url></Content>
					<token name="MeshType">5</token>
					<string name="Name">Mesh</string>
					<Vector3 name="Offset">
						<X>0</X>
						<Y>0</Y>
						<Z>0</Z>
					</Vector3>
					<Vector3 name="Scale">
						<X>0.5</X>
						<Y>0.5</Y>
						<Z>0.5</Z>
					</Vector3>
					<BinaryString name="Tags"></BinaryString>
					<Content name="TextureId"><url>http://www.mulrbx.com/asset?id=179511447</url></Content>
					<Vector3 name="VertexColor">
						<X>1</X>
						<Y>1</Y>
						<Z>1</Z>
					</Vector3>
				</Properties>
			</Item>
			<Item class="Attachment" referent="RBX0A4889D902ED4AA6A6D60324E11F92FE">
				<Properties>
					<CoordinateFrame name="CFrame">
						<X>0</X>
						<Y>-0.850000024</Y>
						<Z>0.75</Z>
						<R00>1</R00>
						<R01>0</R01>
						<R02>6.31088724e-30</R02>
						<R10>0</R10>
						<R11>1</R11>
						<R12>-0</R12>
						<R20>-6.31088724e-30</R20>
						<R21>0</R21>
						<R22>1</R22>
					</CoordinateFrame>
					<string name="Name">RightGripAttachment</string>
					<BinaryString name="Tags"></BinaryString>
					<bool name="Visible">false</bool>
				</Properties>
			</Item>
		</Item>
		<Item class="Script" referent="RBX1E4F1B35B88F45D09B56C7C6CEE1D78B">
			<Properties>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<string name="Name">Script</string>
				<string name="ScriptGuid">{C19C8865-73E6-4A91-8728-0B5F1CD1C911}</string>
				<ProtectedString name="Source"><![CDATA[--Made by Luckymaxer

Tool = script.Parent
Handle = Tool:WaitForChild("Handle")

Players = game:GetService("Players")
Debris = game:GetService("Debris")

FireworksModule = require(182191976)
Credit = FireworksModule.Credit

FireworkLauncher = script:WaitForChild("FireworkLauncher")

BasePart = Instance.new("Part")
BasePart.Shape = Enum.PartType.Block
BasePart.Material = Enum.Material.Plastic
BasePart.TopSurface = Enum.SurfaceType.Smooth
BasePart.BottomSurface = Enum.SurfaceType.Smooth
BasePart.FormFactor = Enum.FormFactor.Custom
BasePart.Size = Vector3.new(0.2, 0.2, 0.2)
BasePart.CanCollide = true
BasePart.Locked = true
BasePart.Anchored = false
BaseMesh = Instance.new("SpecialMesh")
BaseMesh.MeshType = Enum.MeshType.FileMesh
BaseMesh.Scale = Vector3.new(1, 1, 1)
BaseMesh.Parent = BasePart

Gravity = 196.20

BaseUrl = "http://www.mulrbx.com/asset?id="
TextureId = 179511447

Scale = Vector3.new(0.5, 0.5, 0.5)

Parts = {
	{Name = "Pumpkin", Size = Vector3.new(2, 1, 2), MeshId = 180406439, Offset = Vector3.new(0.0100212097, -3.49999428, 0.250000954)},
	{Name = "Firework1", Size = Vector3.new(0.75, 2, 1), MeshId = 180406459, Offset = Vector3.new(-1.82001495, 0.290010452, 0.0824995041)},
	{Name = "Firework2", Size = Vector3.new(0.75, 0.75, 0.75), MeshId = 180406466, Offset = Vector3.new(-2.12002182, -1.22999001, 2.05747032)},
	{Name = "Firework3", Size = Vector3.new(0.5, 0.9, 0.5), MeshId = 180406480, Offset = Vector3.new(-0.899990082, -0.679998398, 2.8650074)},
	{Name = "Firework4", Size = Vector3.new(0.75, 1.25, 0.75), MeshId = 180406491, Offset = Vector3.new(-0.907478333, -0.375003815, 1.75499344)},
	{Name = "Firework5", Size = Vector3.new(0.75, 1.25, 0.75), MeshId = 180406506, Offset = Vector3.new(-1.5149765, -1.08001328, -1.51750851)},
	{Name = "Firework6", Size = Vector3.new(0.75, 1.05, 0.5), MeshId = 180406522, Offset = Vector3.new(-0.328235626, -0.602506638, -2.04000187)},
	{Name = "Firework7", Size = Vector3.new(0.75, 1.05, 0.5), MeshId = 180406538, Offset = Vector3.new(0.0824928284, -0.237514496, -0.569996834)},
	{Name = "Firework8", Size = Vector3.new(1, 1.7, 1), MeshId = 180406552, Offset = Vector3.new(1.02749634, -0.360002518, -2.27999592)},
	{Name = "Firework9", Size = Vector3.new(0.4, 0.9, 0.75), MeshId = 180406564, Offset = Vector3.new(1.30225372, -1.24999809, -0.279998779)},
	{Name = "Firework10", Size = Vector3.new(0.4, 1, 0.75), MeshId = 180406575, Offset = Vector3.new(1.94226837, -0.979995728, 0.930001259)},
	{Name = "Firework11", Size = Vector3.new(1.125, 2.6, 0.75), MeshId = 180406588, Offset = Vector3.new(0.912254333, 0.309988022, 0.659999847)},
	{Name = "Firework12", Size = Vector3.new(0.25, 0.75, 0.25), MeshId = 180406600, Offset = Vector3.new(0.192249298, -1.48001862, 2.12999725)},
	{Name = "Firework13", Size = Vector3.new(1, 1.5, 0.75), MeshId = 180406614, Offset = Vector3.new(1.51227188, -0.900022507, 2.29000664)},
	{Name = "Firework14", Size = Vector3.new(0.75, 1.05, 0.5), MeshId = 181451348, Offset = Vector3.new(1.79777908, -2.15000916, -0.82000351)},
}

ReloadTime = 25
Duration = 20

Tool.Enabled = true

function CheckForCredit(Player)
	if not Player or not Player.Parent then
		return
	end
	for i, v in pairs(Credit) do
		if ((v.UserId and tonumber(v.UserId) == tonumber(Player.userId)) or (v.UserName and tostring(v.UserName) == tostring(Player.Name))) then
			return true
		end
	end
	return false
end

function WeldTo(PrimaryPart, SecondaryPart)
	if not PrimaryPart or not SecondaryPart then
		return
	end
	local Weld = Instance.new("Weld")
	Weld.Name = "Weld"
	Weld.Part0 = PrimaryPart
	Weld.Part1 = SecondaryPart
	Weld.C0 = PrimaryPart.CFrame:inverse()
	Weld.C1 = SecondaryPart.CFrame:inverse()
	Weld.Parent = PrimaryPart
	return Weld
end

function Activated()
	if not Tool.Enabled or not Humanoid or not Humanoid.Parent or Humanoid.Health == 0 then
		return
	end
	Tool.Enabled = false
	Handle.Transparency = 1
	local HandleClone = Handle:Clone()
	HandleClone.Name = "Center"
	HandleClone.Transparency = 1
	HandleClone.CanCollide = true
	HandleClone.CFrame = CFrame.new(HandleClone.Position) * CFrame.Angles(0, -(math.pi / 2), 0)
	local FireworksModel = Instance.new("Model")
	FireworksModel.Name = "HalloweenFireworks"
	for i, v in pairs(Parts) do
		local Part = BasePart:Clone()
		local Mesh = Part.Mesh
		Part.Name = v.Name
		Part.Size = v.Size
		Mesh.MeshId = tostring(BaseUrl .. v.MeshId)
		Mesh.TextureId = tostring(BaseUrl .. TextureId)
		Mesh.Scale = Scale
		Part.Parent = FireworksModel
		Part.CFrame = HandleClone.CFrame + (v.Offset / 4)
		WeldTo(HandleClone, Part)
	end
	local Pumpkin = FireworksModel:FindFirstChild("Pumpkin")
	if Pumpkin then
		Pumpkin.Friction = 2
		local Mass = ((HandleClone:GetMass() * Gravity) / 4)
		local BodyGyro = Instance.new("BodyGyro")
		BodyGyro.maxTorque = Vector3.new(Mass, Mass, Mass)
		BodyGyro.D = 25
		BodyGyro.P = 0
		BodyGyro.cframe = Pumpkin.CFrame
		BodyGyro.Parent = Pumpkin
		local Light = Instance.new("PointLight")
		Light.Color = BrickColor.new("New Yeller").Color
		Light.Brightness = 50
		Light.Range = 8
		Light.Shadows = false
		Light.Enabled = true
		Light.Parent = Pumpkin
		HandleClone.Parent = FireworksModel
		Debris:AddItem(FireworksModel, Duration)
		local FireworkLauncherClone = FireworkLauncher:Clone()
		FireworkLauncherClone.Disabled = false
		FireworkLauncherClone.Parent = FireworksModel
		FireworksModel.Parent = game:GetService("Workspace")
		HandleClone.CFrame = Handle.CFrame
		wait(((CheckForCredit(Player) and 2) or ReloadTime))
	end
	Handle.Transparency = 0
	Tool.Enabled = true
end

function Equipped(Mouse)
	Handle.Transparency = ((Tool.Enabled and 0) or 1)
	Character = Tool.Parent
	Player = Players:GetPlayerFromCharacter(Character)
	Humanoid = Character:FindFirstChild("Humanoid")
	Torso = Character:FindFirstChild("Torso") or Character:FindFirstChild("UpperTorso")
	if not Player or not Humanoid or Humanoid.Health == 0 or not Torso then
		return
	end
end

function Unequipped()
end

Tool.Changed:connect(function(Property)
	if Property == "Parent" and Tool.Parent and not Tool.Parent:IsA("Backpack") and not Players:GetPlayerFromCharacter(Tool.Parent) then
		Handle.Transparency = 0
	end
end)

Tool.Activated:connect(Activated)
Tool.Equipped:connect(Equipped)
Tool.Unequipped:connect(Unequipped)]]></ProtectedString>
				<BinaryString name="Tags"></BinaryString>
			</Properties>
			<Item class="Script" referent="RBX4ABDB2FAF6264FF089BA90254BE52454">
				<Properties>
					<bool name="Disabled">true</bool>
					<Content name="LinkedSource"><null></null></Content>
					<string name="Name">FireworkLauncher</string>
					<string name="ScriptGuid">{90228D7D-D002-41F0-9298-94339352BAFB}</string>
					<ProtectedString name="Source"><![CDATA[--Made by Luckymaxer

Model = script.Parent
Center = Model:WaitForChild("Center")
Pumpkin = Model:WaitForChild("Pumpkin")

Players = game:GetService("Players")
Debris = game:GetService("Debris")

FireworksModule = require(182191976)
ImageFireworks = FireworksModule.Fireworks

BasePart = Instance.new("Part")
BasePart.Shape = Enum.PartType.Block
BasePart.Material = Enum.Material.Plastic
BasePart.TopSurface = Enum.SurfaceType.Smooth
BasePart.BottomSurface = Enum.SurfaceType.Smooth
BasePart.FormFactor = Enum.FormFactor.Custom
BasePart.Size = Vector3.new(0.2, 0.2, 0.2)
BasePart.CanCollide = true
BasePart.Locked = true
BasePart.Anchored = false

Gravity = 196.20

Fireworks = {}

Sounds = {
	-- Explosion
	Explosion1 = 181686249,
	Explosion2 = 181686389,
	Explosion3 = 181686408,
	Explosion4 = 181686431,
	ExplosionWithCrackle = 181686460,
	DistantExplosion1 = 181685954,
	DistantExplosion2 = 181686071,
	DistantExplosion3 = 181686095,
	SoftExplosion = 181686722,
	-- Whistle
	Whistle1 = 181686553,
	Whistle2 = 181686590,
	Whistle3 = 181686621,
	WhistleWithExplosion = 181686868,
	ModerateWhistle = 181686679,
	FastWhistle = 181686197,
	--Launch
	Launch = 181686490,
	FastLaunch = 181686124,	
}

FireworkDud = false

for i, v in pairs(Model:GetChildren()) do
	if v:IsA("BasePart") and v ~= Center and v ~= Pumpkin then
		table.insert(Fireworks, v)
	end
end

function PlaySound(Object, SoundId, Pitch, Volume, Duration)
	if not Object then
		return
	end
	local Sound = Instance.new("Sound")
	Sound.SoundId = (((type(SoundId) == "number" and "http://www.mulrbx.com/asset?id=") or "") .. SoundId)
	Sound.Pitch = (Pitch or Sound.Pitch)
	Sound.Volume = (Volume or Sound.Volume)
	Sound.Parent = Object
	Sound:Play()
	Delay(Duration, function()
		Sound:Stop()
	end)
	return Sound
end

function RayCast(Position, Direction, MaxDistance, IgnoreList)
	return game:GetService("Workspace"):FindPartOnRayWithIgnoreList(Ray.new(Position, Direction.unit * (MaxDistance or 999.999)), IgnoreList) 
end

function IsFlipped(Object)
	local Vector1 = Object.CFrame:vectorToWorldSpace(Vector3.FromNormalId(Enum.NormalId.Top))
	local Vector2 = Vector3.new(0, 1, 0)
	local Angle = math.acos(Vector1:Dot(Vector2))
	return (Angle > 0.5)
end

function TransformModel(Objects, Center, NewCFrame, Recurse)
	Objects = ((type(Objects) ~= "table" and {Objects}) or Objects)
	for i, v in pairs(Objects) do
		if v:IsA("BasePart") then
			v.CFrame = NewCFrame:toWorldSpace(Center:toObjectSpace(v.CFrame))
		end
		if Recurse then
			TransformModel(v:GetChildren(), Center, NewCFrame, true)
		end
	end
end

function ClassicExplosion(Firework)
	if not Firework or not Firework.Parent then
		return
	end
	local Colors = {"Really red", "Really blue", "New Yeller", "Lime green", "Bright violet"}
	local function Flare(Position, Velocity, Float, Timer, Color)
		local Float = (Float or 0)
		local Timer = (Timer or 2)
		
		local Part = BasePart:Clone()
		Part.Name = "EffectFlare"
		Part.Transparency = 1
		Part.Size = Vector3.new(0.4, 0.4, 0.4)
		Part.CanCollide = false
		Part.CFrame = CFrame.new(Position) * CFrame.Angles(math.pi, 0, 0)
		Part.Velocity = Velocity
		
		local Particles = {
			Sparkles = {},
			Fire = {}
		}
		
		for i = 1, 4 do
			local Sparkles = Instance.new("Sparkles")
			Sparkles.SparkleColor = BrickColor.new(((i % 2 == 0 and "Institutional white") or "New Yeller")).Color
			Sparkles.Enabled = true
			table.insert(Particles.Sparkles, Sparkles)
			Sparkles.Parent = Part
		end
		
		local Fire = Instance.new("Fire")
		Fire.Color = BrickColor.new("Tr. Flu. Yellow").Color
		Fire.SecondaryColor = BrickColor.new("Institutional white").Color
		Fire.Heat = 25
		Fire.Size = 5
		Fire.Enabled = true
		table.insert(Particles.Fire, Fire)
		Fire.Parent = Part
		
		for i, v in pairs(Particles.Sparkles) do
			if v and v.Parent then
				v.SparkleColor = BrickColor.new(((i % 2 == 0 and v.SparkleColor) or Color)).Color
			end
		end
		
		for i, v in pairs(Particles.Fire) do
			if v and v.Parent then
				v.Color = BrickColor.new(Color).Color
			end
		end
		
		if Float > 0 then
			local BodyForce = Instance.new("BodyForce")
			BodyForce.force = Vector3.new(0, (Part:GetMass() * Gravity * Float), 0)
			BodyForce.Parent = Part
		end
		
		Debris:AddItem(Part,(Timer + 3))
		Part.Parent = game:GetService("Workspace")
		Delay(Timer, function()
			for i, v in pairs(Particles) do
				if v and v.Parent and v.Enabled then
					v.Enabled = false
				end
			end
		end)
	
		return Part
	end
	local ColorChosen = Colors[math.random(1, #Colors)]
	local FireworkPosition = Firework.CFrame * CFrame.Angles((math.random() * math.pi * 2), (math.random() * math.pi * 2), (math.random() * math.pi * 2))
	if Firework and Firework.Parent then
		Firework:Destroy()
	end
	for i = 1, 7 do
		Flare(Firework.Position, ((FireworkPosition * CFrame.Angles(((i / 7) * math.pi * 2), 0.75, 0)).lookVector * 20), 0.95, 2, ColorChosen)
	end
	for i = 1, 7 do
		Flare(Firework.Position, ((FireworkPosition * CFrame.Angles(((i / 7) * math.pi * 2), -0.75, 0)).lookVector * 20), 0.95, 2, ColorChosen)
	end
end

function ImageExplosion(Firework)
	if not FireworksUsable then
		FireworksUsable = {}
		for i, v in pairs(ImageFireworks) do
			table.insert(FireworksUsable, v)
		end
	end
	local function ChooseFirework()
		if #FireworksUsable > 0 then
			local FireworkChosenNumber = math.random(1, #FireworksUsable)
			local FireworkChosen = FireworksUsable[FireworkChosenNumber]
			table.remove(FireworksUsable, FireworkChosenNumber)
			return FireworkChosen
		else
			 HandleFirework(ClassicExplosion, Firework)
			return
		end
	end
	if not Firework or not Firework.Parent then
		return
	end
	local FireworkChosen = ChooseFirework()
	if not FireworkChosen then
		return
	end
	local FireworkPosition = Firework.CFrame
	if Firework and Firework.Parent then
		Firework:Destroy()
	end
	local Firework = FireworkChosen.Firework:Clone()
	local Parts = {}
	local Particles = {}
	for i, v in pairs(Firework:GetChildren()) do
		if v:IsA("BasePart") then
			table.insert(Parts, v)
			for ii, vv in pairs(v:GetChildren()) do
				if vv:IsA("Fire") or vv:IsA("Smoke") or vv:IsA("Sparkles") or vv:IsA("PointLight") or vv:IsA("SpotLight") then
					table.insert(Particles, vv)
					vv.Enabled = false
				end
			end
		end
	end
	local Duration = 8
	Debris:AddItem(Firework, Duration)
	Firework.Parent = game:GetService("Workspace")
	Delay((Duration - 3), function()
		for i, v in pairs(Particles) do
			if v and v.Parent then
				v.Enabled = false
			end
		end
	end)
	TransformModel(Firework, Firework:GetModelCFrame(), FireworkPosition, true)
	TransformModel(Firework, Firework:GetModelCFrame(), CFrame.new(Firework:GetModelCFrame().p, Center.Position), true)
	if FireworkChosen.Angle then
		TransformModel(Firework, Firework:GetModelCFrame(), Firework:GetModelCFrame() * FireworkChosen.Angle)
	end
	local OriginalPositions = {}
	for i, v in pairs(Parts) do
		if v and v.Parent then
			local Offset = v.Position
			v.CFrame = FireworkPosition
			local Mass = (v:GetMass() * Gravity * 100)
			local BodyPosition = Instance.new("BodyPosition")
			BodyPosition.maxForce = Vector3.new(Mass, Mass, Mass)
			BodyPosition.position = Offset
			BodyPosition.Parent = v
			v.Anchored = false
		end
	end
	for i, v in pairs(Particles) do
		if v and v.Parent then
			v.Enabled = true
		end
	end
end

function HandleFirework(FireworkFunction, Firework)
	pcall(function()
		if not Firework or not Firework.Parent then
			return
		end
		local ExplosionSounds = {Sounds.Explosion2, Sounds.Explosion3, Sounds.Explosion4}
		PlaySound(Firework, ExplosionSounds[math.random(1, #ExplosionSounds)], nil, 3, 2)
		--local ExplosionSounds = {Sounds.DistantExplosion1, Sounds.DistantExplosion2, Sounds.DistantExplosion3}
		--PlaySound(Firework, ExplosionSounds[math.random(1, #ExplosionSounds)], nil, 3, 3)
		Spawn(function()
			FireworkFunction(Firework)
		end)
	end)
end

Fire = Instance.new("Fire")
Fire.Color = BrickColor.new("Deep orange").Color
Fire.SecondaryColor = BrickColor.new("Really red").Color
Fire.Heat = 25
Fire.Size = 2.125
Fire.Enabled = true
Fire.Parent = Pumpkin

wait(2)

if IsFlipped(Center) then
	FireworkDud = true
end

Center.CanCollide = false

local ExplosionType = math.random(1, 3)

for i, v in pairs(Fireworks) do
	Spawn(function()
		local LaunchSounds = {Sounds.Launch, Sounds.FastLaunch}
		PlaySound(Center, LaunchSounds[math.random(1, #LaunchSounds)], nil, nil, 3)
		local IndividualDud = ((IsFlipped(Center) and true) or false)
		local Firework = v:Clone()
		local WhistleSounds = {Sounds.Whistle1, Sounds.Whistle2, Sounds.Whistle3, Sounds.ModerateWhistle, Sounds.FastWhistle}
		PlaySound(Firework, WhistleSounds[math.random(1, #WhistleSounds)], nil, nil, 3)
		v.CanCollide = false
		v.Transparency = 1
		Firework.CanCollide = true
		Firework.Transparency = 0
		local FireworkOrigin = Firework.CFrame + (Firework.CFrame * CFrame.Angles((math.pi / 2), 0, 0)).lookVector * Firework.Size.Y
		local FireworkCFrame = Firework.CFrame + CFrame.new(Pumpkin.Position, FireworkOrigin.p).lookVector * 1.5
		local Mass = (Firework:GetMass() * Gravity * 2)
		local BodyGyro = Instance.new("BodyGyro")
		BodyGyro.maxTorque = Vector3.new(math.huge, math.huge, math.huge)
		BodyGyro.cframe = Firework.CFrame
		local BodyVelocity = Instance.new("BodyVelocity")
		BodyVelocity.maxForce = Vector3.new(Mass, Mass, Mass)
		if not FireworkDud and not IndividualDud then
			BodyGyro.Parent = Firework
			BodyVelocity.Parent = Firework
		end
		Debris:AddItem(Firework, 10)
		Firework.CFrame = FireworkCFrame
		BodyVelocity.velocity = CFrame.new(Pumpkin.Position, FireworkOrigin.p).lookVector * 100
		Firework.Parent = game:GetService("Workspace")
		if v and v.Parent then
			v:Destroy()
		end
		if not FireworkDud then
			wait((math.random(30, 50) * 0.1))
			local DistanceApart = (Firework.Position.Y - Center.Position.Y)
			local RayHit, RayPos = RayCast(Firework.Position, Vector3.new(0, 1, 0), (Firework.Size.Y * 2), {Firework, Character})
			if DistanceApart >= 100 and not RayHit then
				if ExplosionType == 1 then
					HandleFirework(ClassicExplosion, Firework)
				elseif ExplosionType == 2 then
					HandleFirework(ImageExplosion, Firework)
				elseif ExplosionType == 3 then
					local FinalExplosionType = math.random(1, 2)
					if FinalExplosionType == 1 then
						HandleFirework(ClassicExplosion, Firework)
					else
						HandleFirework(ImageExplosion, Firework)
					end
				end
			else
				for ii, vv in pairs({BodyGyro, BodyVelocity}) do
					if vv and vv.Parent then
						vv:Destroy()
					end
				end
			end
		end
	end)
	wait(0.5)
end

Fire.Enabled = false

Smoke = Instance.new("Smoke")
Smoke.Opacity = 0.0625
Smoke.RiseVelocity = 0.001
Smoke.Size = 0.1
Smoke.Color = BrickColor.new((FireworkDud and "Medium stone grey") or "Institutional white").Color
Smoke.Enabled = true
Smoke.Parent = Pumpkin]]></ProtectedString>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
			</Item>
		</Item>
		<Item class="Keyframe" referent="RBX8845F138BCEA47248C67D91D1EDFE695">
			<Properties>
				<string name="Name">ThumbnailPose</string>
				<BinaryString name="Tags"></BinaryString>
				<float name="Time">0</float>
			</Properties>
			<Item class="Pose" referent="RBXD47A59565A494D57AE5A1450C871B7AB">
				<Properties>
					<CoordinateFrame name="CFrame">
						<X>0</X>
						<Y>0</Y>
						<Z>0</Z>
						<R00>1</R00>
						<R01>0</R01>
						<R02>0</R02>
						<R10>0</R10>
						<R11>1</R11>
						<R12>0</R12>
						<R20>0</R20>
						<R21>0</R21>
						<R22>1</R22>
					</CoordinateFrame>
					<token name="EasingDirection">1</token>
					<token name="EasingStyle">0</token>
					<float name="MaskWeight">0</float>
					<string name="Name">UpperTorso</string>
					<BinaryString name="Tags"></BinaryString>
					<float name="Weight">0</float>
				</Properties>
				<Item class="Pose" referent="RBX0F6D9AB2CA354B189D4ED5BB7DB0B198">
					<Properties>
						<CoordinateFrame name="CFrame">
							<X>0</X>
							<Y>-6.70552254e-08</Y>
							<Z>-5.96046448e-08</Z>
							<R00>1</R00>
							<R01>0</R01>
							<R02>0</R02>
							<R10>0</R10>
							<R11>0.173648193</R11>
							<R12>-0.98480773</R12>
							<R20>0</R20>
							<R21>0.98480773</R21>
							<R22>0.173648193</R22>
						</CoordinateFrame>
						<token name="EasingDirection">1</token>
						<token name="EasingStyle">0</token>
						<float name="MaskWeight">0</float>
						<string name="Name">RightUpperArm</string>
						<BinaryString name="Tags"></BinaryString>
						<float name="Weight">1</float>
					</Properties>
					<Item class="Pose" referent="RBXE7352747375E45CFB840146ADBB5E4D1">
						<Properties>
							<CoordinateFrame name="CFrame">
								<X>0</X>
								<Y>-1.49011612e-08</Y>
								<Z>3.7252903e-09</Z>
								<R00>1</R00>
								<R01>0</R01>
								<R02>0</R02>
								<R10>0</R10>
								<R11>0.98480773</R11>
								<R12>-0.173648179</R12>
								<R20>0</R20>
								<R21>0.173648179</R21>
								<R22>0.98480773</R22>
							</CoordinateFrame>
							<token name="EasingDirection">1</token>
							<token name="EasingStyle">0</token>
							<float name="MaskWeight">0</float>
							<string name="Name">RightLowerArm</string>
							<BinaryString name="Tags"></BinaryString>
							<float name="Weight">1</float>
						</Properties>
						<Item class="Pose" referent="RBXE275DBCFCF52436481AE46EBD7898A3E">
							<Properties>
								<CoordinateFrame name="CFrame">
									<X>0</X>
									<Y>0</Y>
									<Z>0</Z>
									<R00>1</R00>
									<R01>0</R01>
									<R02>0</R02>
									<R10>0</R10>
									<R11>1</R11>
									<R12>0</R12>
									<R20>0</R20>
									<R21>0</R21>
									<R22>1</R22>
								</CoordinateFrame>
								<token name="EasingDirection">1</token>
								<token name="EasingStyle">0</token>
								<float name="MaskWeight">0</float>
								<string name="Name">RightHand</string>
								<BinaryString name="Tags"></BinaryString>
								<float name="Weight">1</float>
							</Properties>
						</Item>
					</Item>
				</Item>
			</Item>
		</Item>
		<Item class="Camera" referent="RBX10AF405C5F8E43089B77AB720046130E">
			<Properties>
				<CoordinateFrame name="CFrame">
					<X>4.18667126</X>
					<Y>3.97483087</Y>
					<Z>-4.51769781</Z>
					<R00>-0.804923177</R00>
					<R01>-0.201020285</R01>
					<R02>0.558291733</R02>
					<R10>-1.4901163e-08</R10>
					<R11>0.940868556</R11>
					<R12>0.338772058</R12>
					<R20>-0.59337914</R20>
					<R21>0.272685468</R21>
					<R22>-0.757326782</R22>
				</CoordinateFrame>
				<Ref name="CameraSubject">null</Ref>
				<token name="CameraType">0</token>
				<float name="FieldOfView">70</float>
				<CoordinateFrame name="Focus">
					<X>3.07008743</X>
					<Y>3.29728651</Y>
					<Z>-3.00304365</Z>
					<R00>1</R00>
					<R01>0</R01>
					<R02>0</R02>
					<R10>0</R10>
					<R11>1</R11>
					<R12>0</R12>
					<R20>0</R20>
					<R21>0</R21>
					<R22>1</R22>
				</CoordinateFrame>
				<bool name="HeadLocked">true</bool>
				<float name="HeadScale">1</float>
				<string name="Name">ThumbnailCamera</string>
				<BinaryString name="Tags"></BinaryString>
			</Properties>
		</Item>
	</Item>
</roblox>